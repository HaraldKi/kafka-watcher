<?xml version="1.0"?>
<!-- DOCTYPE date SYSTEM "ant.dtd" -->
<project name="kafka-watcher" default="compile" basedir=".">
  <import file="../hkAntLib/javac.xml"/>
  <import file="../hkAntLib/package.xml"/>
  
  <property name="version" value="1.0"/>
  <property name="project.java.version" value="1.8"/>

  <target name="compile">
    <do-javac/>
  </target>

  <target name="jar" depends="compile">
    <do-dist-jar/>
  </target>

  <target name="distzip" depends="jar">
    <property name="d" value="kafka-watcher-${version}"/>
    <zip destfile="build/sitecontent/download/${d}.zip">
      <zipfileset dir="build/sitecontent/download/"
                  includes="kafka-watcher-${version}.jar"
                  prefix="${d}/libs"/>
      <zipfileset dir="libs" includes="**/*.jar" prefix="${d}/libs"/>
      <zipfileset dir="libs" includes="**/*.properties" prefix="${d}/libs"/>
      <zipfileset dir="." includes="static/**" prefix="${d}"/>
      <zipfileset dir="src/scripts" includes="kafka-watcher" filemode="775"
                  prefix="${d}"/>
    </zip>
  </target>
</project>
